{% extends 'paper/layout.html'  %}{% load static crispy_forms_tags humanize %}

{% block title %} Dashboard | Max Polo {% endblock %}{% block breadcrumb %}

{% block breadcrumbs %}{% endblock %}

{% endblock %}{% block content %}
<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />-->
<!-- jQuery -->
<!--<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>-->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<div class="row">
    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-body ">
                <div class="row">
                    <div class="col-5 col-md-4">
                        <div class="icon-big text-center icon-warning">
                            <i class="nc-icon nc-globe text-warning"></i>
                        </div>
                    </div>
                    <div class="col-7 col-md-8">
                        <div class="numbers">
                            <p class="card-category">Products</p>
                            <p class="card-title">{{ products.count }}<p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer ">
                <hr>
                <div class="stats">
                    <i class="fa fa-refresh"></i>
                    Update Now
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-body ">
                <div class="row">
                    <div class="col-5 col-md-4">
                        <div class="icon-big text-center icon-warning">
                            <i class="nc-icon nc-money-coins text-success"></i>
                        </div>
                    </div>
                    <div class="col-7 col-md-8">
                        <div class="numbers">
                            <p class="card-category">Payments</p>
                            <p class="card-title">{{ payments.count }}<p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer ">
                <hr>
                <div class="stats">
                    <i class="fa fa-calendar-o"></i>
                    Last day
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-body ">
                <div class="row">
                    <div class="col-5 col-md-4">
                        <div class="icon-big text-center icon-warning">
                            <i class="nc-icon nc-vector text-danger"></i>
                        </div>
                    </div>
                    <div class="col-7 col-md-8">
                        <div class="numbers">
                            <p class="card-category">Sales Order</p>
                            <p class="card-title">{{ salesorders.count }}<p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer ">
                <hr>
                <div class="stats">
                    <i class="fa fa-clock-o"></i>
                    In the last hour
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-body ">
                <div class="row">
                    <div class="col-5 col-md-4">
                        <div class="icon-big text-center icon-warning">
                            <i class="nc-icon nc-favourite-28 text-primary"></i>
                        </div>
                    </div>
                    <div class="col-7 col-md-8">
                        <div class="numbers">
                            <p class="card-category">Invoice</p>
                            <p class="card-title">{{ invoice.count }}<p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer ">
                <hr>
                <div class="stats">
                    <i class="fa fa-refresh"></i>
                    Update now
                </div>
            </div>
        </div>
    </div>

<div class="col-md-5 ">
    <div class="card ">
        <div class="card-header ">
            <h5 class="card-title">Orders</h5>
            <!--                <p class="card-category">Last Campaign Performance</p>-->
        </div>
        <div class="card-body ">
            <canvas id="PieChart" width="400" height="200"></canvas>

<!--            <canvas id="chartEmail"></canvas>-->
        </div>
        <div class="card-footer ">
            <div class="legend">
<!--                <i class="fa fa-circle text-primary"></i> Opened-->
<!--                <i class="fa fa-circle text-warning"></i> Read-->
<!--                <i class="fa fa-circle text-danger"></i> Deleted-->
<!--                <i class="fa fa-circle text-gray"></i> Unopened-->
            </div>
            <hr>
            <div class="stats">
                <!--                    <i class="fa fa-calendar"></i> Number of emails sent-->
            </div>
        </div>
    </div>
</div>
<div class="col-md-7 ">
    <div class="card ">
        <div class="card-header ">
            <h5 class="card-title">Claims</h5>
            <!--                <p class="card-category">Last Campaign Performance</p>-->
        </div>
        <div class="card-body ">
            <canvas id="LineChart" width="400" height="200"></canvas>

<!--            <canvas id="chartEmail"></canvas>-->
        </div>
        <div class="card-footer ">
            <div class="legend">
<!--                <i class="fa fa-circle text-primary"></i> Opened-->
<!--                <i class="fa fa-circle text-warning"></i> Read-->
<!--                <i class="fa fa-circle text-danger"></i> Deleted-->
<!--                <i class="fa fa-circle text-gray"></i> Unopened-->
            </div>
            <hr>
            <div class="stats">
                <!--                    <i class="fa fa-calendar"></i> Number of emails sent-->
            </div>
        </div>
    </div>
</div>
</div>


{%block scripts%}
 <script>

 <!------Pie chart------>
    var config = {
      type: 'pie',
      data: {
        datasets: [{
          data: [{% for key,value in pie_data.items %}'{{ value }}',{% endfor %}],
          backgroundColor: [
<!--                            'rgba(255, 99, 132, 1)',-->
                            'rgba(54, 162, 235, 1)',
<!--                            'rgba(255, 206, 86, 1)',-->
                            'rgba(153, 102, 255, 1)',
                            'rgba(75, 192, 192, 1)',

<!--                            'rgba(255, 159, 64, 1)'-->
          ],

          label: 'Population'
        }],
        labels: [{% for key,value in pie_data.items %}'{{ key }}',{% endfor %}],
      },
      options: {
        responsive: true
      }
    };

<!------Line chart------>
    window.onload = function() {
      var ctx = document.getElementById('PieChart').getContext('2d');
      window.myPie = new Chart(ctx, config);
      var ctx_line = document.getElementById('LineChart').getContext('2d');
      window.myLine = new Chart(ctx_line, config_line);
    };

  </script>
<script class="type/script">

    var config_line = {
      type: 'bar',
      data: {
        datasets: [{
          data: [{% for key,value in line_data.items %}'{{ value }}',{% endfor %}],
          backgroundColor: [
<!--                            'rgba(255, 206, 86, 1)',-->

<!--                            'rgba(153, 102, 255, 1)',-->
<!--                            'rgba(54, 162, 235, 1)',-->
                            'rgba(120, 120, 255, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(255, 80, 132, 1)',


          ],


        }],
        labels: [{% for key,value in line_data.items %}'{{ key }}',{% endfor %}],
      },
      options: {
        responsive: true
      }
    };




</script>
{%endblock scripts%}

{% endblock %}
